{"version":3,"file":"kendo.avatar.min.js","names":["factory","define","amd","$","kendo","Widget","ICON_SELECTOR","AVATAR_STYLES","AVATAR_TYPE","Avatar","window","jQuery","ui","extend","init","element","options","fn","call","this","_fromMarkup","_wrapper","_markupContent","length","_contentFromMarkup","_content","name","alt","border","className","fillMode","icon","image","rounded","size","style","text","themeColor","type","events","setOptions","currentOptions","wrapper","updatedOptions","_optionsFromWrapper","removeClass","empty","content","span","find","html","renderIcon","attr","append","first","children","slice","remove","trim","split","forEach","indexOf","substring","replace","addClass","_applyCssClasses","css","prepend","cssProperties","registerPrefix","registerValues","prop","values","roundedValues","concat","plugin"],"sources":["kendo.avatar.js"],"mappings":"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","sourcesContent":["(function (factory) {\n    typeof define === 'function' && define.amd ? define(['kendo.core', 'kendo.icons'], factory) :\n    factory();\n})((function () {\n    var __meta__ = {\n        id: \"avatar\",\n        name: \"Avatar\",\n        category: \"web\",\n        description: \"The Avatar component represents an icon, text, or image rendered in a styled container.\",\n        depends: [ \"core\" ]\n    };\n\n    (function($, undefined$1) {\n        var kendo = window.kendo,\n            Widget = kendo.ui.Widget,\n            DASH = \"-\",\n            ICON_SELECTOR = \".k-icon,.k-svg-icon\";\n\n        var AVATAR_STYLES = {\n            widget: \"k-widget\",\n            avatar: \"k-avatar\",\n            bordered: \"k-avatar-bordered\"\n        };\n\n        var AVATAR_TYPE = {\n            icon: \"icon\",\n            image: \"image\",\n            text: \"text\"\n        };\n\n        var Avatar = Widget.extend({\n            init: function(element, options) {\n                var that = this;\n\n                options = options || {};\n\n                Widget.fn.init.call(that, element, options);\n\n                this._fromMarkup();\n                this._wrapper();\n\n                if (this._markupContent && this._markupContent.length > 0) {\n                    this._contentFromMarkup();\n                } else {\n                    this._content();\n                }\n            },\n\n            options: {\n                name: \"Avatar\",\n                alt: null,\n                border: false,\n                className: null,\n                fillMode: \"solid\",\n                icon: null,\n                image: null,\n                rounded: \"full\",\n                size: \"medium\",\n                style: null,\n                text: null,\n                themeColor: \"primary\",\n                type: AVATAR_TYPE.text\n            },\n\n            events: [ ],\n\n            setOptions: function(options) {\n                var currentOptions = this.options,\n                    wrapper = this.wrapper,\n                    updatedOptions = $.extend({}, currentOptions, options);\n\n                Widget.fn.setOptions.call(this, options);\n\n                if (!updatedOptions[updatedOptions.type]) {\n                    currentOptions = this._optionsFromWrapper(currentOptions);\n                }\n                if (updatedOptions.border === false) {\n                    wrapper.removeClass(AVATAR_STYLES.bordered);\n                }\n\n                wrapper.empty();\n\n                this.options = currentOptions;\n                this._wrapper();\n                this._content();\n            },\n\n            _content: function() {\n                var span = this.wrapper.find(\"> span\"),\n                    options = this.options,\n                    type = options.type,\n                    content;\n\n                if (type === AVATAR_TYPE.icon) {\n                    content = $(kendo.html.renderIcon({ icon: options.icon }));\n                } else if (type === AVATAR_TYPE.image) {\n                    content = $(\"<img src='\" + options.image + \"'>\");\n\n                    if (options.alt) {\n                        content.attr(\"alt\", options.alt);\n                    }\n                } else if (type === AVATAR_TYPE.text) {\n                    content = $(\"<span>\" + options.text + \"</span>\");\n                }\n\n                span.append(content);\n            },\n\n            _contentFromMarkup: function() {\n                var span = this.wrapper.find(\"> span\").first();\n\n                span.append(this._markupContent);\n            },\n\n            _fromMarkup: function() {\n                var element = this.element,\n                    options = this.options,\n                    image, icon;\n\n                element.children().slice(1).remove();\n\n                image = element.children(\"img\");\n                icon = element.children(ICON_SELECTOR);\n\n                if (image.length > 0 ) {\n                    options.type = AVATAR_TYPE.image;\n                    this._markupContent = image.first();\n                } else if (icon.length > 0) {\n                    options.type = AVATAR_TYPE.icon;\n                    this._markupContent = icon.first();\n                } else if (element.children().length > 0) {\n                    options.type = AVATAR_TYPE.text;\n                    this._markupContent = element.children();\n                }\n            },\n\n            _optionsFromWrapper: function(updatedOptions) {\n                var wrapper = this.wrapper,\n                    classes, image;\n\n                if (updatedOptions.type === AVATAR_TYPE.text) {\n                    updatedOptions.text = wrapper.text().trim();\n                } else if (updatedOptions.type === AVATAR_TYPE.icon) {\n                    classes = wrapper.find(ICON_SELECTOR).attr(\"class\").split(/\\s+/);\n\n                    classes.forEach(function(name) {\n                        if (name.indexOf(\"k-i-\") === 0) {\n                            updatedOptions.icon = name.substring(4);\n                        } else if (name.indexOf(\"k-svg-i-\") === 0) {\n                            updatedOptions.icon = name.replace(/^k-svg-i-/,\"\");\n                        }\n                    });\n                } else if (updatedOptions.type === AVATAR_TYPE.image) {\n                    image = wrapper.find(\"img\");\n                    updatedOptions.image = image.attr(\"src\");\n\n                    if (image.attr(\"alt\")) {\n                        updatedOptions.alt = image.attr(\"alt\");\n                    }\n                }\n\n                return updatedOptions;\n            },\n\n            _wrapper: function() {\n                var wrapper = this.element,\n                    options = this.options,\n                    span = $(\"<span>\");\n\n                this.wrapper = wrapper;\n                wrapper.addClass(AVATAR_STYLES.avatar);\n\n                this._applyCssClasses();\n\n                if (options.border) {\n                    wrapper.addClass(AVATAR_STYLES.bordered);\n                }\n                if (options.style) {\n                    wrapper.css(options.style);\n                }\n                if (options.className) {\n                    wrapper.addClass(options.className);\n                }\n\n                span.addClass(AVATAR_STYLES.avatar + DASH + options.type);\n                wrapper.prepend(span);\n            }\n        });\n\n        kendo.cssProperties.registerPrefix(\"Avatar\", \"k-avatar-\");\n\n        kendo.cssProperties.registerValues(\"Avatar\", [{\n            prop: \"rounded\",\n            values: kendo.cssProperties.roundedValues.concat([['full', 'full']])\n        }]);\n\n        kendo.ui.plugin(Avatar);\n\n    })(window.kendo.jQuery);\n\n}));\n"]}