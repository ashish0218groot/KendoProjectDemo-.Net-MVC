{"version":3,"file":"kendo.dataviz.sparkline.min.js","names":["factory","define","amd","window","kendo","dataviz","constants","Chart","elementSize","deepExtend","SharedTooltip$1","SharedTooltip","extend","_slotAnchor","coords","slot","vertical","this","plotArea","categoryAxis","options","align","horizontal","point","Point","box","x2","center","y","x","_defaultAnchor","NO_CROSSHAIR","BAR","BULLET","hide","children","state","idx","length","child","style","display","show","wrapNumber","value","isNumber","Sparkline","_setElementClass","element","addClass","_initElement","fn","call","_initialWidth","Math","floor","width","_resize","childNodes","_modelOptions","chartOptions","stage","_surfaceWrap","displayState","space","document","createElement","innerHTML","appendChild","_autoWidth","height","transitions","chartArea","inline","removeChild","surface","resize","_createPlotArea","skipSeries","_calculateWidth","margin","getSpacing","charts","total","i","currentChart","firstSeries","series","type","PIE","pointsCount","categoriesCount","isStacked","inArray","COLUMN","VERTICAL_BULLET","seriesOptions","max","size","pointWidth","left","right","_createSharedTooltip","_plotArea","normalizeOptions","userOptions","isArray","seriesDefaults","data","crosshair","visible","setDefaultOptions","axisDefaults","majorGridLines","valueAxis","narrowRange","area","line","bar","stack","padding","overlay","gradient","highlight","border","markers","tooltip","shared","legend","panes","clip","$","ui","KendoSparkline","ChartInstanceObserver","init","ObservableArray","_createChart","themeOptions","_instance","observer","sender","rtl","_isRtl","_createTooltip","SparklineTooltip","name","plugin","Tooltip","animation","duration","_hideElement","remove","jQuery"],"sources":["kendo.dataviz.sparkline.js"],"mappings":"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","sourcesContent":["(function (factory) {\n    typeof define === 'function' && define.amd ? define(['kendo.dataviz.chart'], factory) :\n    factory();\n})((function () {\n    /***********************************************************************\n     * WARNING: this file is auto-generated.  If you change it directly,\n     * your modifications will eventually be lost.  The source code is in\n     * `kendo-charts` repository, you should make your changes there and\n     * run `src-modules/sync.sh` in this repository.\n     */\n\n    (function() {\n    /* eslint-disable space-before-blocks, space-before-function-paren */\n\n    window.kendo.dataviz = window.kendo.dataviz || {};\n    var dataviz = kendo.dataviz;\n    var constants = dataviz.constants;\n    var Chart = dataviz.Chart;\n    var elementSize = dataviz.elementSize;\n    var deepExtend = dataviz.deepExtend;\n\n    var TOP_OFFSET = -2;\n\n    var SharedTooltip$1 = dataviz.SharedTooltip.extend({\n        _slotAnchor: function(coords, slot) {\n            var axis = this.plotArea.categoryAxis;\n            var vertical = axis.options.vertical;\n            var align = vertical ? {\n                horizontal: \"left\",\n                vertical: \"center\"\n            } : {\n                horizontal: \"center\",\n                vertical: \"bottom\"\n            };\n\n            var point;\n\n            if (vertical) {\n                point = new dataviz.Point(this.plotArea.box.x2, slot.center().y);\n            } else {\n                point = new dataviz.Point(slot.center().x, TOP_OFFSET);\n            }\n\n            return {\n                point: point,\n                align: align\n            };\n        },\n\n        _defaultAnchor: function(point, slot) {\n            return this._slotAnchor({}, slot);\n        }\n    });\n\n    var DEAULT_BAR_WIDTH = 150;\n    var DEAULT_BULLET_WIDTH = 150;\n    var NO_CROSSHAIR = [ constants.BAR, constants.BULLET ];\n\n    function hide(children) {\n        var state = [];\n        for (var idx = 0; idx < children.length; idx++) {\n            var child = children[idx];\n            state[idx] = child.style.display;\n            child.style.display = \"none\";\n        }\n\n        return state;\n    }\n\n    function show(children, state) {\n        for (var idx = 0; idx < children.length; idx++) {\n            children[idx].style.display = state[idx];\n        }\n    }\n\n    function wrapNumber(value) {\n        return dataviz.isNumber(value) ? [ value ] : value;\n    }\n\n    var Sparkline = Chart.extend({\n        _setElementClass: function(element) {\n            dataviz.addClass(element, 'k-sparkline');\n        },\n\n        _initElement: function(element) {\n            Chart.fn._initElement.call(this, element);\n\n            this._initialWidth = Math.floor(elementSize(element).width);\n        },\n\n        _resize: function() {\n            var element = this.element;\n            var state = hide(element.childNodes);\n\n            this._initialWidth = Math.floor(elementSize(element).width);\n\n            show(element.childNodes, state);\n\n            Chart.fn._resize.call(this);\n        },\n\n        _modelOptions: function() {\n            var chartOptions = this.options;\n            var stage = this._surfaceWrap();\n            var displayState = hide(stage.childNodes);\n\n            var space = document.createElement('span');\n            space.innerHTML = '&nbsp;';\n\n            stage.appendChild(space);\n\n            var options = deepExtend({\n                width: this._autoWidth,\n                height: elementSize(stage).height,\n                transitions: chartOptions.transitions\n            }, chartOptions.chartArea, {\n                inline: true,\n                align: false\n            });\n\n            elementSize(stage, {\n                width: options.width,\n                height: options.height\n            });\n\n            stage.removeChild(space);\n\n            show(stage.childNodes, displayState);\n\n            if (this.surface) {\n                this.surface.resize();\n            }\n\n            return options;\n        },\n\n        _surfaceWrap: function() {\n            if (!this.stage) {\n                var stage = this.stage = document.createElement('span');\n                this.element.appendChild(stage);\n            }\n            return this.stage;\n        },\n\n        _createPlotArea: function(skipSeries) {\n            var plotArea = Chart.fn._createPlotArea.call(this, skipSeries);\n            this._autoWidth = this._initialWidth || this._calculateWidth(plotArea);\n\n            return plotArea;\n        },\n\n        _calculateWidth: function(plotArea) {\n            var options = this.options;\n            var margin = dataviz.getSpacing(options.chartArea.margin);\n            var charts = plotArea.charts;\n            var stage = this._surfaceWrap();\n            var total = 0;\n\n            for (var i = 0; i < charts.length; i++) {\n                var currentChart = charts[i];\n                var firstSeries = (currentChart.options.series || [])[0];\n                if (!firstSeries) {\n                    continue;\n                }\n\n                if (firstSeries.type === constants.BAR) {\n                    return DEAULT_BAR_WIDTH;\n                }\n\n                if (firstSeries.type === constants.BULLET) {\n                    return DEAULT_BULLET_WIDTH;\n                }\n\n                if (firstSeries.type === constants.PIE) {\n                    return elementSize(stage).height;\n                }\n\n                var categoryAxis = currentChart.categoryAxis;\n                if (categoryAxis) {\n                    var pointsCount = categoryAxis.categoriesCount() *\n                        (!currentChart.options.isStacked && dataviz.inArray(firstSeries.type, [ constants.COLUMN, constants.VERTICAL_BULLET ]) ? currentChart.seriesOptions.length : 1);\n\n                    total = Math.max(total, pointsCount);\n                }\n            }\n\n            var size = total * options.pointWidth;\n            if (size > 0) {\n                size += margin.left + margin.right;\n            }\n\n            return size;\n        },\n\n        _createSharedTooltip: function(options) {\n            return new SharedTooltip$1(this._plotArea, options);\n        }\n    });\n\n    Sparkline.normalizeOptions = function(userOptions) {\n        var options = wrapNumber(userOptions);\n\n        if (dataviz.isArray(options)) {\n            options = { seriesDefaults: { data: options } };\n        } else {\n            options = deepExtend({}, options);\n        }\n\n        if (!options.series) {\n            options.series = [ { data: wrapNumber(options.data) } ];\n        }\n\n        deepExtend(options, {\n            seriesDefaults: {\n                type: options.type\n            }\n        });\n\n        if (dataviz.inArray(options.series[0].type, NO_CROSSHAIR) ||\n            dataviz.inArray(options.seriesDefaults.type, NO_CROSSHAIR)) {\n            options = deepExtend({}, {\n                categoryAxis: {\n                    crosshair: {\n                        visible: false\n                    }\n                }\n            }, options);\n        }\n\n        return options;\n    };\n\n    dataviz.setDefaultOptions(Sparkline, {\n        chartArea: {\n            margin: 2\n        },\n        axisDefaults: {\n            visible: false,\n            majorGridLines: {\n                visible: false\n            },\n            valueAxis: {\n                narrowRange: true\n            }\n        },\n        seriesDefaults: {\n            type: \"line\",\n            area: {\n                line: {\n                    width: 0.5\n                }\n            },\n            bar: {\n                stack: true\n            },\n            padding: 2,\n            width: 0.5,\n            overlay: {\n                gradient: null\n            },\n            highlight: {\n                visible: false\n            },\n            border: {\n                width: 0\n            },\n            markers: {\n                size: 2,\n                visible: false\n            }\n        },\n        tooltip: {\n            visible: true,\n            shared: true\n        },\n        categoryAxis: {\n            crosshair: {\n                visible: true,\n                tooltip: {\n                    visible: false\n                }\n            }\n        },\n        legend: {\n            visible: false\n        },\n        transitions: false,\n\n        pointWidth: 5,\n\n        panes: [ { clip: false } ]\n    });\n\n    kendo.deepExtend(kendo.dataviz, {\n        Sparkline: Sparkline\n    });\n\n    })();\n\n    (function($) {\n\n    var dataviz = kendo.dataviz;\n    var Chart = dataviz.ui.Chart;\n    var KendoSparkline = dataviz.Sparkline;\n    var ChartInstanceObserver = dataviz.ChartInstanceObserver;\n\n    var extend = $.extend;\n\n    var Sparkline = Chart.extend({\n\n        init: function(element, userOptions) {\n            var options = userOptions;\n            if (options instanceof kendo.data.ObservableArray) {\n                options = { seriesDefaults: { data: options } };\n            }\n\n            Chart.fn.init.call(this, element, KendoSparkline.normalizeOptions(options));\n        },\n\n        _createChart: function(options, themeOptions) {\n            this._instance = new KendoSparkline(this.element[0], options, themeOptions, {\n                observer: new ChartInstanceObserver(this),\n                sender: this,\n                rtl: this._isRtl()\n            });\n        },\n\n        _createTooltip: function() {\n            return new SparklineTooltip(this.element, extend({}, this.options.tooltip, {\n                rtl: this._isRtl()\n            }));\n        },\n\n        options: {\n            name: \"Sparkline\",\n            chartArea: {\n                margin: 2\n            },\n            axisDefaults: {\n                visible: false,\n                majorGridLines: {\n                    visible: false\n                },\n                valueAxis: {\n                    narrowRange: true\n                }\n            },\n            seriesDefaults: {\n                type: \"line\",\n                area: {\n                    line: {\n                        width: 0.5\n                    }\n                },\n                bar: {\n                    stack: true\n                },\n                padding: 2,\n                width: 0.5,\n                overlay: {\n                    gradient: null\n                },\n                highlight: {\n                    visible: false\n                },\n                border: {\n                    width: 0\n                },\n                markers: {\n                    size: 2,\n                    visible: false\n                }\n            },\n            tooltip: {\n                visible: true,\n                shared: true\n            },\n            categoryAxis: {\n                crosshair: {\n                    visible: true,\n                    tooltip: {\n                        visible: false\n                    }\n                }\n            },\n            legend: {\n                visible: false\n            },\n            transitions: false,\n\n            pointWidth: 5,\n\n            panes: [{\n                clip: false\n            }]\n        }\n    });\n\n    dataviz.ui.plugin(Sparkline);\n\n    var SparklineTooltip = dataviz.Tooltip.extend({\n        options: {\n            animation: {\n                duration: 0\n            }\n        },\n\n        _hideElement: function() {\n            if (this.element) {\n                this.element.hide().remove();\n            }\n        }\n    });\n\n    dataviz.SparklineTooltip = SparklineTooltip;\n\n    })(window.kendo.jQuery);\n\n    var __meta__ = {\n        id: \"dataviz.sparkline\",\n        name: \"Sparkline\",\n        category: \"dataviz\",\n        description: \"Sparkline widgets.\",\n        depends: [ \"dataviz.chart\" ]\n    };\n\n}));\n"]}